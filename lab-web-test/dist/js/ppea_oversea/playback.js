webpackJsonp([2],{1163:function(e,t,a){e.exports=a(1164)},1164:function(e,t,a){"use strict";function n(e,t){var a=f()("#main-ul").find("li").eq(e).find("div").find("p"),n=f()("#main-ul").find("li").eq(e).find("div").find("i");switch(t){case 1:a.addClass("item-first"),n.eq(0).addClass("iconfont0-active");break;case 2:a.addClass("item-second");for(var s=0;s<2;s++)n.eq(s).addClass("iconfont1-active");break;case 3:a.addClass("item-third");for(var o=0;o<3;o++)n.eq(o).addClass("iconfont2-active");break;case 4:a.addClass("item-forth");for(var r=0;r<4;r++)n.eq(r).addClass("iconfont3-active");break;case 5:a.addClass("item-forth");for(var i=0;i<5;i++)n.eq(i).addClass("iconfont3-active")}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(47),o=a.n(s),r=a(48),i=a.n(r),c=a(43),l=a.n(c),d=a(26),f=a.n(d),u=a(77),p=a(62),m=a(92),h=a(276),y=a(25),v=(a.n(y),a(63)),b=(a.n(v),a(1165)),g=(a.n(b),function(){var e=i()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.loadResult(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),k=JSON.parse(window.localStorage.getItem("playBackData")),C=document.getElementById("result-main"),x=new m.a(C,{pageClassName:"svg-page",rollSelector:""}),E=!1,S={name:""},w=!1;f()(function(){x.on("device.connect",function(e){E=!0,S=e,f()("#device-status .linked").removeClass("hide"),f()("#device-status .notlinked").addClass("hide")}),x.on("device.disconnect",function(){E=!1,f()("#device-status .linked").addClass("hide"),f()("#device-status .notlinked").removeClass("hide")}),x.on("userPlayer.end",function(){f()("#state-i").removeClass("icon-zanting"),f()("#state-i").addClass("icon-play"),w=!1}),x.on("scroll",function(e){var t=C.clientWidth/595,a=e.pos*t+e.element.offsetTop-80*t;h.a.scrollScoreAuto(f()("#playback-result"),a)});var e=[Object(u.a)("/ppea/api/exam/report/"+k.recordId),g(k.recordId)];l.a.all(e).then(function(e){for(var t=0;t<e.length;t++){if(0===t){f()("#pitch").text(e[t].data.pitch.result),n(0,e[t].data.pitch.star),f()("#speed").text(e[t].data.RHYTHM_SPEED.result),n(1,e[t].data.RHYTHM_SPEED.star),f()("#technique").text(e[t].data.TECHNIQUE.result),n(2,e[t].data.TECHNIQUE.star),f()("#cpmplete").text(e[t].data.COMPLETE.result),n(3,e[t].data.COMPLETE.star),f()("#expressive").text(e[t].data.EXPRESSIVE.result),n(4,e[t].data.EXPRESSIVE.star),"test"===window.localStorage.ppeaAct?f()(".p-head").html('总得分 <span id="rate">'+e[t].data.rate.replace(/%/,"")+"分</span>"):f()("#rate").text(e[t].data.rate);var a=document.getElementById("report-six"),s=e[t].data.score;h.a.renderChart(a,s)}if(1===t){f()("#play-rank").html(e[t].score.rank),f()("#play-score").html(e[t].score.final.toFixed(1));var o=document.getElementById("case-six"),r=e[t].score;h.a.renderChart(o,r,"#fff")}}}).finally(function(){p.a.hideLoading(),f()(C).css({overflowY:"scroll"})}),"TOL"===S.name&&(p.a.alert("某些功能在连接The ONE智能灯条时不可用"),f()("#video-state").css("display","none"),f()("#back-title").html("评测六项图"))}),f()("#play-right").click(function(){f()("#result-play").animate({right:"-2.08rem"},700,"swing",function(){f()("#play-left").delay(700).css("display","block")})}),f()("#play-left").click(function(){f()("#play-left").css("display","none"),f()("#result-play").animate({right:"0"},700,"swing",function(){})}),f()("#video-state").click(function(){if(E||p.a.alert("该功能需在连接The ONE智能设备时使用"),!E)return!1;w?(f()("#state-i").removeClass("icon-zanting"),f()("#state-i").addClass("icon-play"),f()("#video-state").css("padding-left","0.02222222rem"),w=!1,x.stopListenScore()):(f()("#state-i").removeClass("icon-play"),f()("#state-i").addClass("icon-zanting"),f()("#result-play").delay(1e3).animate({right:"-2.08rem"},700,"swing",function(){f()("#play-left").delay(700).css("display","block"),f()("#video-state").css("padding-left","0"),w=!0,x.startListenScore()}))}),f()("#btn-result").click(function(){f()("#playback-report").css("display","none"),f()("#playback-result").css("display","block"),f()(".report-button").css("background","#ff5e94"),f()(".icon-fenxiyinqing").css("color","#000"),f()(".result-button").css("background","#0b162e"),f()(".icon-iconfontgangqin").css("color","#fff"),f()("#btn-report").removeClass("btn-bg-active"),f()("#btn-result").addClass("btn-bg-active")}),f()("#btn-report").click(function(){f()("#playback-result").css("display","none"),f()("#playback-report").css("display","block"),f()(".report-button").css("background","#0b162e"),f()(".icon-fenxiyinqing").css("color","#fff"),f()(".result-button").css("background","#ff5e94"),f()(".icon-iconfontgangqin").css("color","#000"),f()("#btn-result").removeClass("btn-bg-active"),f()("#btn-report").addClass("btn-bg-active")}),f()("#replay").click(function(){window.location.href="/dist/view/ppea_new/play.html"})},1165:function(e,t){},14:function(e,t){e.exports=dll},276:function(e,t,a){"use strict";var n=a(57),s=a.n(n),o=a(135);a.n(o);t.a={renderChart:function(e,t){var a={radar:{name:{textStyle:{color:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#333"}},indicator:[{name:"音准"+Math.round(t.pitch),max:100},{name:"表现力"+Math.round(t.expressive),max:100},{name:"技巧"+Math.round(t.technique),max:100},{name:"节奏"+Math.round(t.rhythm),max:100},{name:"完整性"+Math.round(t.complete),max:100},{name:"难度"+Math.round(t.difficulty),max:100}],splitArea:{areaStyle:{color:["#f1f1f1"]}},axisLine:{lineStyle:{color:"#fff"}},splitLine:{lineStyle:{color:"#fff"}}},series:[{name:"最终得分",type:"radar",lineStyle:{normal:{color:"#ff487d"}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#fff"},{offset:1,color:"#fa87aa"}],globalCoord:!1}}},data:[{value:[Math.round(t.pitch),Math.round(t.expressive),Math.round(t.technique),Math.round(t.rhythm),Math.round(t.complete),Math.round(t.difficulty)],name:"最终得分"}]}]};s.a.init(e).setOption(a)},scrollScoreAuto:function(e,t){e.animate({scrollTop:t},200)}}}},[1163]);