### 新想到的问题

1. 可以用vuex管理各类层级过于复杂的父子组件通信事件。
2. 用户登录设计：
    1. 登录状态管理
        1. 如何判断用户是在登录状态

            *登陆后，在vuex中存储用户的基本信息，包括但不限于名称、id、权限、token、登录时间、过期时间等。*

            *当vuex中存在用户信息时，则为登录状态，反之需要重新登录，跳转回登陆页面。*
        2. 设置过期时间，在用户进行任何操作时查看登录状态

            *可以在登录的时候存储一个加N小时/天的过期时间在vuex中，在每次用户进行操作时（寻找可行的钩子）与过期时间进行判断。*
        3. 安全性：是否与后端约定token（此与AJAX相关）

            *封装vue-resouce，在http请求中set header将token添加进去。若token不正确则返回登录页面（后端如何设计token？）*
        4. 不同性质的用户是否使用同一个后台管理系统

            *见仁见智。我认为，如果用户差别过大并且用户的种类过多（3个以上）则只用一个SPA来管理会显得有些臃肿。*

            *套用权限管理的设计思路，只不过面更加广泛一些。*
    2. 用户权限管理
        1. 限制非权限用户的可见性

            *目前的方法：用vuex在每个需要限制可见性的页面中查看权限值，再根据v-show/v-if控制显示。简单易行，但当页面过多时会极难维护。*

        2. 限制非权限用户的跳转（防止通过url实现跳转）

            *目前的方法：在页面跳转钩子上覆盖一个方法，该方法判断该用户的权限是否达到需求，如果未达到则在vue-router层面限制跳转。权限存在vue-router配置文件中，以不同权限的权限代表名称存储，‘-’符号代表没有权限。*

        *用户权限管理改进思路：创建一个权限资源文件，将所有的用户权限记录在一个Object中。以用户权限的代表名称作为存储依据，为不同的权限设置不能够访问的页面名称（或者相反，以页面名称作为依据，设置不同的用户权限。）。未设置的权限相当于无权限（非法），0进行提示后跳转回登录页面。*

        **问题在于：如果只是页面权限完全解决问题。怎样解决某个小组件的可见性问题？**
